<div class="page-container">
  <div class="page-header">
    <h2>Appointments</h2>
    <button class="add-btn" (click)="showPanel = true">+ Add Appointment</button>
  </div>

  <div class="table-wrapper">
    <table class="custom-table full">
      <thead>
        <tr>
          <th>Doctor</th>
          <th>Date</th>
          <th>Time</th>
          <th style="width: 120px;">Actions</th>
        </tr>
      </thead>

      <tbody>
        @if (appointments.length > 0) {
          @for (a of appointments; track a) {
            <tr>
              <td>{{ getDoctorName(a.doctor_id) }}</td>
              <td>{{ a.date }}</td>
              <td>{{ a.time }}</td>
              <td class="actions">
                <img src="../../../assets/icons/delete.svg"
                     alt="delete"
                     class="edit-icon"
                     (click)="deleteAppointment(a.appointment_id)" />
              </td>
            </tr>
          }
        } @else {
          <tr>
            <td colspan="4" class="no-data">
              No appointments found
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <app-create-appointment
    [openPanel]="showPanel"
    (panelClosed)="refreshPage()">
  </app-create-appointment>
</div>
